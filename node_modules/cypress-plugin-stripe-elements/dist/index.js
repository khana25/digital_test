"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var getSelectorForField = function (name) {
    return "input[data-elements-stable-field-name=\"" + name + "\"]";
};
Cypress.Commands.add('fillElementsInput', function (field, value) {
    if (Cypress.config('chromeWebSecurity')) {
        throw new Error("You must set `{ \"chromeWebSecurity\": false }` in `cypress.json`, " +
            "or cypress-plugin-stripe-elements cannot access the Stripe Elements " +
            "<iframe> to perform autofill.");
    }
    var selector = getSelectorForField(field);
    cy
        .get('iframe')
        .should(function (iframe) { return expect(iframe.contents().find(selector)).to.exist; })
        .then(function (iframe) { return cy.wrap(iframe.contents().find(selector)); })
        .within(function (input) {
        cy.wrap(input).type(value);
    });
});
